# 프롬프트 실행 순서 가이드

## 🎯 두 가지 접근 방법

### 방법 A: 단일 상점 먼저 → 멀티 테넌트 변환 (권장)
### 방법 B: 처음부터 멀티 테넌트로 시작

---

## ✅ 방법 A: 단일 상점 먼저 (권장)

### 장점
- ✅ 단계별로 테스트하면서 진행
- ✅ 기능 구현에 집중
- ✅ 문제 발생 시 디버깅 쉬움
- ✅ 나중에 멀티 테넌트로 확장

### 실행 순서

```
1단계: 기본 앱 개발 (60 prompts)
├─ prompts_part1.md (Phase 1-5)
│  ├─ Phase 1: 프로젝트 초기 설정 (5)
│  ├─ Phase 2: 사용자 인증 (5)
│  ├─ Phase 3: 메뉴 관리 (5)
│  ├─ Phase 4: 주문 시스템 (5)
│  └─ Phase 5: 관리자 기능 (5)
│
└─ prompts_part2.md (Phase 6-12)
   ├─ Phase 6: 푸시 알림 (7)
   ├─ Phase 7: 리뷰 시스템 (3)
   ├─ Phase 8: 공지사항 (4)
   ├─ Phase 9: 이벤트 배너 (3)
   ├─ Phase 10: 유틸리티 (3)
   ├─ Phase 11: 공통 컴포넌트 (4)
   └─ Phase 12: 배포 (5)

↓ 테스트 및 검증

2단계: 멀티 테넌트 변환 (13 prompts)
└─ multi_tenant_guide.md (Phase 0)
   ├─ Prompt 0-1: 상점 정보 스키마
   ├─ Prompt 0-2: 관리자 매핑 스키마
   ├─ Prompt 0-3: 초기 설정 마법사
   ├─ Prompt 0-4: 상점 컨텍스트
   ├─ Prompt 0-5: 데이터 격리
   ├─ Prompt 0-6: 보안 규칙 수정
   ├─ Prompt 0-7: 상점 선택 UI
   ├─ Prompt 0-8: 상점 설정 페이지
   ├─ Prompt 0-9: 회원가입 수정
   ├─ Prompt 0-10: 랜딩 페이지
   ├─ Prompt 0-11: 도메인 설정 (선택)
   ├─ Prompt 0-12: 통계 대시보드 (선택)
   └─ Prompt 0-13: 구독 시스템 (선택)

↓ 최종 테스트

3단계: 배포 및 운영
```

### 상세 실행 계획

#### 1주차: 기본 기능 (Phase 1-5)
```
월: Phase 1 (프로젝트 설정)
화: Phase 2 (인증)
수: Phase 3 (메뉴)
목: Phase 4 (주문)
금: Phase 5 (관리자)
```

#### 2주차: 고급 기능 (Phase 6-12)
```
월: Phase 6 (푸시 알림)
화: Phase 7-8 (리뷰, 공지)
수: Phase 9-10 (이벤트, 유틸)
목: Phase 11-12 (공통 컴포넌트, 배포)
금: 테스트 및 버그 수정
```

#### 3주차: 멀티 테넌트 변환
```
월-화: Phase 0 (Prompt 0-1 ~ 0-6)
수-목: Phase 0 (Prompt 0-7 ~ 0-13)
금: 최종 테스트 및 배포
```

---

## 🚀 방법 B: 처음부터 멀티 테넌트

### 장점
- ✅ 나중에 변환 작업 불필요
- ✅ 처음부터 확장 가능한 구조

### 단점
- ⚠️ 초기 복잡도 높음
- ⚠️ 디버깅 어려움

### 실행 순서

```
1단계: 멀티 테넌트 기반 (13 prompts)
└─ multi_tenant_guide.md (Phase 0)
   └─ Prompt 0-1 ~ 0-13

↓

2단계: 기본 기능 개발 (60 prompts) - 수정 필요
├─ prompts_part1.md
│  └─ 모든 쿼리를 stores/{storeId}/... 로 수정
│
└─ prompts_part2.md
   └─ 모든 쿼리를 stores/{storeId}/... 로 수정

↓

3단계: 배포
```

### ⚠️ 주의사항
방법 B를 선택하면:
- 기존 60개 프롬프트를 **모두 수정**해야 함
- 예: `collection(db, 'menus')` → `collection(db, 'stores/${storeId}/menus')`
- 작업량이 많아짐

---

## 📊 비교표

| 항목 | 방법 A (단일→멀티) | 방법 B (처음부터 멀티) |
|------|-------------------|---------------------|
| 난이도 | ⭐⭐ 보통 | ⭐⭐⭐⭐ 어려움 |
| 개발 시간 | 2-3주 | 2-3주 |
| 테스트 용이성 | ✅ 쉬움 | ⚠️ 어려움 |
| 디버깅 | ✅ 쉬움 | ⚠️ 어려움 |
| 학습 곡선 | ✅ 완만 | ⚠️ 가파름 |
| 변환 작업 | 필요 (1-2일) | 불필요 |
| **권장도** | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ |

---

## 🎯 최종 권장 순서 (방법 A)

### Step 1: 프로젝트 시작
```bash
# 1. prompts_index.md 읽기
# 2. 환경 준비 (Node.js, Firebase CLI)
# 3. Firebase 프로젝트 생성
```

### Step 2: Phase 1-5 실행 (prompts_part1.md)
```
Prompt 1-1: React 프로젝트 생성
Prompt 1-2: 의존성 설치
Prompt 1-3: Firebase 설정
...
Prompt 5-5: 쿠폰 관리
```

### Step 3: Phase 6-12 실행 (prompts_part2.md)
```
Prompt 6-1: FCM 설정
Prompt 6-2: FCM 초기화
...
Prompt 12-5: README 작성
```

### Step 4: 테스트
```
- 회원가입/로그인 ✓
- 메뉴 등록 ✓
- 주문 생성 ✓
- 관리자 기능 ✓
- 푸시 알림 ✓
```

### Step 5: Phase 0 실행 (multi_tenant_guide.md)
```
Prompt 0-1: 상점 정보 스키마
Prompt 0-2: 관리자 매핑
Prompt 0-3: 초기 설정 마법사
...
Prompt 0-13: 구독 시스템 (선택)
```

### Step 6: 데이터 마이그레이션
```javascript
// 기존 데이터를 stores/{defaultStoreId}/ 아래로 이동
// multi_tenant_guide.md의 "마이그레이션 가이드" 참조
```

### Step 7: 최종 테스트
```
- 새 상점 등록 ✓
- 상점별 데이터 격리 확인 ✓
- 초기 설정 마법사 ✓
- 여러 상점 동시 운영 ✓
```

### Step 8: 배포
```bash
npm run deploy
```

---

## 📝 체크리스트

### Phase 1-12 완료 후 확인
- [ ] 단일 상점으로 모든 기능 작동
- [ ] 메뉴 CRUD 정상
- [ ] 주문 생성 및 관리 정상
- [ ] 푸시 알림 작동
- [ ] 리뷰 작성 가능
- [ ] 관리자 대시보드 정상

### Phase 0 완료 후 확인
- [ ] 초기 설정 마법사 작동
- [ ] 새 상점 생성 가능
- [ ] 상점별 데이터 완전 분리
- [ ] 상점 A의 메뉴가 상점 B에 안 보임
- [ ] 여러 상점 동시 운영 가능

---

## 💡 팁

### 1. 프롬프트 실행 시
```
- 한 번에 1개씩 실행
- 각 프롬프트 완료 후 테스트
- 에러 발생 시 즉시 해결
- 다음 프롬프트로 진행
```

### 2. Phase 구분
```
Phase 1-5: 핵심 기능 (필수)
Phase 6-9: 고급 기능 (권장)
Phase 10-11: 편의 기능 (선택)
Phase 12: 배포 (필수)
Phase 0: 멀티 테넌트 (선택)
```

### 3. 선택적 실행
```
꼭 필요한 기능만 먼저:
- Phase 1-5 (필수)
- Phase 12 (배포)

나중에 추가:
- Phase 6 (푸시 알림)
- Phase 7-8 (리뷰, 공지)
- Phase 0 (멀티 테넌트)
```

---

## 🚨 주의사항

### Phase 0를 먼저 하면 안 되는 이유
```
❌ Phase 0 → Phase 1-12
   └─ 모든 프롬프트를 수정해야 함
   └─ 복잡도 증가
   └─ 에러 발생 확률 높음

✅ Phase 1-12 → Phase 0
   └─ 기본 앱 먼저 완성
   └─ 테스트 후 확장
   └─ 안정적인 개발
```

---

## 📅 예상 일정

### 방법 A (권장)
```
Week 1: Phase 1-5 (기본 기능)
Week 2: Phase 6-12 (고급 기능 + 배포)
Week 3: Phase 0 (멀티 테넌트 변환)
───────────────────────────────
총 3주
```

### 방법 B
```
Week 1: Phase 0 + Phase 1-3 (기반 + 일부 기능)
Week 2: Phase 4-8 (나머지 기능)
Week 3: Phase 9-12 (완성 + 배포)
───────────────────────────────
총 3주 (하지만 더 어려움)
```

---

## 🎉 최종 답변

### 질문: "60개 먼저? 13개 먼저?"

### 답변: **60개 먼저! (Phase 1-12)**

```
1. prompts_part1.md (25 prompts)
   ↓
2. prompts_part2.md (35 prompts)
   ↓
3. 테스트 및 검증
   ↓
4. multi_tenant_guide.md (13 prompts)
   ↓
5. 최종 배포
```

### 이유
1. ✅ 기본 기능부터 확실히
2. ✅ 단계별 테스트 가능
3. ✅ 문제 발생 시 쉽게 해결
4. ✅ 학습 곡선 완만
5. ✅ 나중에 멀티 테넌트 추가 가능

---

**시작하세요!** 🚀

1. `prompts_index.md` 읽기
2. `prompts_part1.md` Prompt 1-1부터 시작
3. 순서대로 진행
4. 완료 후 `multi_tenant_guide.md` 실행
