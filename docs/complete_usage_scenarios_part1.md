# My-Pho-App 완전 사용 시나리오 문서

## 📱 Part 1: 고객 앱 전체 시나리오

---

### 시나리오 1: 첫 방문 고객 - 회원가입부터 첫 주문까지

#### 1-1. 앱 최초 진입 (Home 페이지)

**초기 화면 상태**:
```
┌─────────────────────────────────┐
│ 🍜 대박마라탕                    │ [로고/상점명]
├─────────────────────────────────┤
│ [🔔 알림]           [👤 로그인]  │ 헤더 버튼
├─────────────────────────────────┤
│                                 │
│ 📍 배달 주소 설정하기            │ 주소 선택 버튼
│                                 │
├─────────────────────────────────┤
│ 🎉 오늘의 특별 이벤트            │ 배너/이벤트
│ [                              ] │
├─────────────────────────────────┤
│ 인기 메뉴                        │
│ ┌────┐ ┌────┐ ┌────┐           │
│ │사진│ │사진│ │사진│           │ 메뉴 카드
│ │메뉴│ │메뉴│ │메뉴│           │
│ └────┘ └────┘ └────┘           │
└─────────────────────────────────┘
│                                 │ 하단 네비게이션
│ [홈] [메뉴] [주문내역] [마이]    │
└─────────────────────────────────┘
```

**사용자 액션**: [👤 로그인] 버튼 터치

**UI 반응**:
- 버튼 터치 시 살짝 어두워짐 (opacity: 0.8)
- 200ms 후 Login 페이지로 전환
- 페이지 전환 애니메이션: 오른쪽에서 슬라이드 인

---

#### 1-2. 로그인 페이지

**화면 구성**:
```
┌─────────────────────────────────┐
│ ← 뒤로                          │ 네비게이션 바
├─────────────────────────────────┤
│                                 │
│         로그인                   │ 제목 (32px, bold)
│                                 │
│ ┌─────────────────────────────┐ │
│ │ 📧 이메일                    │ │ 입력 필드 (비활성)
│ └─────────────────────────────┘ │
│                                 │
│ ┌─────────────────────────────┐ │
│ │ 🔒 비밀번호                  │ │ 입력 필드 (비활성)
│ └─────────────────────────────┘ │
│                                 │
│ [         로그인하기          ] │ 버튼 (비활성, 회색)
│                                 │
│ ────── 또는 ──────              │
│                                 │
│ [    회원가입하기    ]          │ 텍스트 버튼 (파란색)
│                                 │
└─────────────────────────────────┘
```

**사용자 액션**: [회원가입하기] 링크 클릭

**UI 반응**:
- 텍스트 밑줄 표시
- Signup 페이지로 이동

---

#### 1-3. 회원가입 페이지 (Signup)

**화면 구성**:
```
┌─────────────────────────────────┐
│ ← 뒤로                          │
├─────────────────────────────────┤
│                                 │
│        회원가입                  │
│                                 │
│ 이메일 *                        │ 레이블
│ ┌─────────────────────────────┐ │
│ │                            │ │ 입력 필드
│ └─────────────────────────────┘ │
│                                 │
│ 비밀번호 *                      │
│ ┌─────────────────────────────┐ │
│ │                     👁      │ │ 비밀번호 표시/숨김
│ └─────────────────────────────┘ │
│ 8자 이상, 영문+숫자 조합         │ 도움말 (회색, 작음)
│                                 │
│ 비밀번호 확인 *                  │
│ ┌─────────────────────────────┐ │
│ │                     👁      │ │
│ └─────────────────────────────┘ │
│                                 │
│ 이름 *                          │
│ ┌─────────────────────────────┐ │
│ │                            │ │
│ └─────────────────────────────┘ │
│                                 │
│ 전화번호 *                      │
│ ┌─────────────────────────────┐ │
│ │ 010-                        │ │ 자동 하이픈
│ └─────────────────────────────┘ │
│                                 │
│ ☑ 이용약관 동의 (필수)           │ 체크박스
│ ☑ 개인정보 처리방침 동의 (필수)  │
│ ☐ 마케팅 정보 수신 동의 (선택)   │
│                                 │
│ [      회원가입 완료하기       ] │ 버튼 (비활성)
└─────────────────────────────────┘
```

**상세 인터랙션**:

**Step 1**: 이메일 입력 필드 터치
- 필드 테두리 파란색으로 변경
- 키보드 나타남 (이메일 타입)
- 플레이스홀더: "example@email.com"

**사용자 입력**: `kim@example.com`

**실시간 검증**:
- 입력 중: 테두리 파란색 유지
- 포커스 아웃 시 이메일 형식 검증
  - ✅ 올바른 형식: 초록색 체크 아이콘 표시
  - ❌ 잘못된 형식: 빨간색 테두리 + "올바른 이메일을 입력하세요" 에러 메시지 (빨간색, 작음)

**Step 2**: 비밀번호 입력
- 입력 필드 포커스
- 입력 시 점(•••••)으로 표시
- 👁 아이콘 터치 시:
  - 평문 표시로 전환
  - 아이콘이 👁‍🗨 (열린 눈)으로 변경

**사용자 입력**: `Pass123!`

**실시간 검증**:
- 8자 이상: ✅ 초록색 체크
- 영문+숫자 포함: ✅ 초록색 체크
- 조건 미충족 시: ❌ 빨간색 X + 에러 메시지

**Step 3**: 비밀번호 확인
**사용자 입력**: `Pass123!`

**실시간 검증**:
- 입력 중 일치 여부 체크
- 일치: ✅ "비밀번호가 일치합니다" (초록색)
- 불일치: ❌ "비밀번호가 일치하지 않습니다" (빨간색)

**Step 4**: 이름 입력
**사용자 입력**: `김철수`
- 한글 2-10자 검증

**Step 5**: 전화번호 입력
**사용자 입력**: `01012345678`

**자동 포맷팅**:
- 입력 즉시 자동으로 하이픈 삽입
- 화면 표시: `010-1234-5678`
- 11자리 입력 완료 시 자동으로 다음 필드로 포커스 이동 안 함 (사용자 제어)

**Step 6**: 약관 동의
**사용자 액션**: 첫 번째 체크박스 터치

**UI 반응**:
- 체크 애니메이션 (0.2초)
- 빈 체크박스 → 파란색 체크 표시
- "이용약관 동의" 텍스트 터치 시:
  - 모달 팝업으로 약관 전문 표시
  ```
  ┌─────────────────────────────────┐
  │ 이용약관                 [X 닫기]│
  ├─────────────────────────────────┤
  │ 제1조 (목적)                     │
  │ 이 약관은...                     │
  │ [스크롤 가능한 내용]             │
  │                                 │
  │ [      동의하기      ]          │
  └─────────────────────────────────┘
  ```

모든 필수 항목 완료 시:
- [회원가입 완료하기] 버튼 활성화
- 회색 → 파란색 배경
- 터치 가능 상태

**사용자 액션**: [회원가입 완료하기] 버튼 터치

**시스템 처리**:
1. 버튼 로딩 상태 전환
   ```
   [   ⏳ 회원가입 중...   ]
   ```
2. Firebase Authentication API 호출
3. Firestore에 사용자 문서 생성:
   ```javascript
   users/{userId}: {
     email: "kim@example.com",
     name: "김철수",
     phone: "010-1234-5678",
     createdAt: Timestamp,
     points: 0,
     orderCount: 0
   }
   ```

**성공 시**:
- 성공 토스트 메시지 (하단에서 올라옴)
  ```
  ┌─────────────────────────────────┐
  │ ✅ 회원가입이 완료되었습니다!     │ 2초간 표시
  └─────────────────────────────────┘
  ```
- 자동 로그인 처리
- Home 페이지로 리다이렉트 (0.5초 딜레이)

**실패 시** (예: 이메일 중복):
- 에러 토스트 메시지 (빨간색 배경)
  ```
  ┌─────────────────────────────────┐
  │ ❌ 이미 사용 중인 이메일입니다    │ 3초간 표시
  └─────────────────────────────────┘
  ```
- 버튼 원래 상태로 복귀
- 이메일 필드에 포커스

---

#### 1-4. 로그인 후 Home 페이지

**화면 변화**:
```
┌─────────────────────────────────┐
│ 🍜 대박마라탕                    │
├─────────────────────────────────┤
│ [🔔 알림 1]      [👤 김철수님]   │ ← 변경됨!
├─────────────────────────────────┤
│                                 │
│ 📍 서울시 강남구 테헤란로 123    │ ← 주소 입력 유도
│                                 │
├─────────────────────────────────┤
│ 🎉 첫 주문 3,000원 할인!         │ 신규 회원 배너
│                                 │
├─────────────────────────────────┤
│ 🔥 인기 메뉴                     │
│ ┌─────────────────┐             │
│ │     소고기       │             │
│ │    마라탕       │             │
│ │   🌶🌶🌶       │ 매운 정도   │
│ │  ₩12,000       │             │
│ │  ⭐ 4.8 (128)  │ 평점/리뷰수 │
│ └─────────────────┘             │
│                                 │
│ 💚 찜한 메뉴                     │
│ (아직 찜한 메뉴가 없습니다)      │
│                                 │
└─────────────────────────────────┘
```

**알림 아이콘 상태**:
- 읽지 않은 알림 있음: 빨간 점(badge) 표시 `🔔¹`
- 알림 없음: `🔔`

---

#### 1-5. 주소 설정

**사용자 액션**: [📍 서울시 강남구 테헤란로 123] 영역 터치

**화면 전환**: AddressList 페이지로 이동

**AddressList 화면**:
```
┌─────────────────────────────────┐
│ ← 뒤로        배달 주소          │
├─────────────────────────────────┤
│                                 │
│ [+ 새 주소 추가하기]             │ 버튼
│                                 │
├─────────────────────────────────┤
│ 등록된 주소가 없습니다           │
│                                 │
│ 첫 주소를 등록하고               │
│ 맛있는 음식을 주문하세요!        │
│                                 │
└─────────────────────────────────┘
```

**사용자 액션**: [+ 새 주소 추가하기] 버튼 터치

**주소 검색 모달 표시**:
```
┌─────────────────────────────────┐
│ 주소 검색              [X 닫기] │
├─────────────────────────────────┤
│ ┌─────────────────────────────┐ │
│ │ 🔍 도로명, 건물명 검색      │ │ 검색창
│ └─────────────────────────────┘ │
│                                 │
│ 최근 검색                        │
│ (없음)                          │
│                                 │
└─────────────────────────────────┘
```

**사용자 입력**: `테헤란로 123`

**자동완성 결과 표시** (200ms 디바운스 후):
```
│ 검색 결과                        │
│ ┌─────────────────────────────┐ │
│ │ 서울 강남구 테헤란로 123      │ │
│ │ (역삼동)                     │ │
│ └─────────────────────────────┘ │
│ ┌─────────────────────────────┐ │
│ │ 서울 서초구 테헤란로 123      │ │
│ │ (서초동)                     │ │
│ └─────────────────────────────┘ │
```

**사용자 액션**: 첫 번째 주소 선택

**상세 주소 입력 모달**:
```
┌─────────────────────────────────┐
│ 상세 주소 입력        [X 닫기]   │
├─────────────────────────────────┤
│ 기본 주소                        │
│ 서울 강남구 테헤란로 123          │
│                                 │
│ 상세 주소 (필수)                 │
│ ┌─────────────────────────────┐ │
│ │ 예: 101동 1001호            │ │ 플레이스홀더
│ └─────────────────────────────┘ │
│                                 │
│ 배달 요청사항 (선택)             │
│ ┌─────────────────────────────┐ │
│ │ 예: 문 앞에 놓아주세요      │ │
│ └─────────────────────────────┘ │
│                                 │
│ 주소 별칭 선택                   │
│ ○ 집  ○ 회사  ● 기타            │
│                                 │
│ [       저장하기       ]        │ 버튼
└─────────────────────────────────┘
```

**사용자 입력**:
- 상세 주소: `101동 1001호`
- 요청사항: `초인종 눌러주세요`
- 별칭: `집` 선택

**사용자 액션**: [저장하기] 버튼 터치

**시스템 처리**:
1. Firestore 저장:
   ```javascript
   users/{userId}/addresses/{addressId}: {
     roadAddress: "서울 강남구 테헤란로 123",
     detailAddress: "101동 1001호",
     request: "초인종 눌러주세요",
     label: "집",
     isDefault: true,
     createdAt: Timestamp
   }
   ```
2. 성공 토스트: `✅ 주소가 저장되었습니다`
3. AddressList 페이지로 돌아가며 새 주소 표시
4. Home으로 돌아가면 주소 자동 반영:
   ```
   📍 서울시 강남구 테헤란로 123 101동 1001호
   ```

---

#### 1-6. 메뉴 탐색

**사용자 액션**: 하단 네비게이션 [메뉴] 탭 터치

**화면 전환**: MenuList 페이지

**MenuList 화면 구성**:
```
┌─────────────────────────────────┐
│ 메뉴                            │
├─────────────────────────────────┤
│ ┌─────────────────────────────┐ │
│ │ 🔍 메뉴 검색...             │ │ 검색창
│ └─────────────────────────────┘ │
├─────────────────────────────────┤
│ [전체] [마라탕] [사이드] [음료]  │ 카테고리 탭
├─────────────────────────────────┤
│                                 │
│ ┌─────────────────────────────┐ │
│ │ ┌────┐                      │ │
│ │ │    │  소고기 마라탕        │ │
│ │ │사진│  🌶🌶🌶              │ │
│ │ │    │  신선한 소고기와...   │ │
│ │ └────┘  ₩12,000             │ │
│ │          ⭐ 4.8 (128)       │ │
│ │          💚 215명이 찜       │ │
│ └─────────────────────────────┘ │
│                                 │
│ ┌─────────────────────────────┐ │
│ │ ┌────┐                      │ │
│ │ │    │  새우 마라탕          │ │
│ │ │사진│  🌶🌶                │ │
│ │ │    │  통통한 새우가...     │ │
│ │ └────┘  ₩11,000             │ │
│ │          ⭐ 4.7 (95)        │ │
│ │          💚 178명이 찜       │ │
│ └─────────────────────────────┘ │
│                                 │
│ [스크롤 계속...]                 │
└─────────────────────────────────┘
```

**인터랙션 1**: 카테고리 [마라탕] 탭 터치

**UI 반응**:
- 탭 배경색 변경 (회색 → 파란색)
- 탭 텍스트 굵게 (normal → bold)
- 메뉴 목록 필터링 애니메이션
  - 기존 리스트 페이드아웃 (0.2초)
  - 새 리스트 페이드인 (0.2초)

**인터랙션 2**: 검색창 터치

**UI 반응**:
- 검색창 확대 애니메이션
- 키보드 나타남
- 카테고리 탭 숨김 (공간 확보)
- [X 취소] 버튼 오른쪽에 나타남

**사용자 입력**: `소고기`

**실시간 검색** (300ms 디바운스):
```
│ 검색 결과 (2)                    │
│ ┌─────────────────────────────┐ │
│ │ 소고기 마라탕                │ │ 하이라이트
│ │ ₩12,000      ⭐ 4.8         │ │
│ └─────────────────────────────┘ │
│ ┌─────────────────────────────┐ │
│ │ 소고기 덮밥                  │ │
│ │ ₩9,000       ⭐ 4.6         │ │
│ └─────────────────────────────┘ │
```

**검색어 하이라이트**:
- "소고기" 부분만 굵은 글씨 또는 파란색 표시

---

#### 1-7. 메뉴 상세 보기

**사용자 액션**: "소고기 마라탕" 카드 터치

**화면 전환**: MenuDetail 페이지 (하단에서 모달로 올라옴)

**MenuDetail 화면**:
```
┌─────────────────────────────────┐
│                         [X 닫기]│
│ ┌─────────────────────────────┐ │
│ │                             │ │
│ │                             │ │
│ │      메뉴 이미지 (큼)        │ │ 이미지 슬라이더
│ │                             │ │
│ │    ● ○ ○                    │ │ 인디케이터
│ └─────────────────────────────┘ │
│                                 │
│ 소고기 마라탕          💚 찜하기 │ 제목 + 찜 버튼
│ ⭐ 4.8 (128개 리뷰)             │ 평점
│                                 │
│ ₩12,000                 🌶🌶🌶 │ 가격 + 매운맛
│                                 │
│ 신선한 소고기와 각종 야채가      │
│ 얼큰한 마라 소스와 어우러진...   │ 설명
│                                 │
│ ──────────────────────────────  │
│                                 │
│ 옵션 선택                        │
│                                 │
│ 매운맛 단계 (필수)               │
│ ○ 순한맛  ● 보통  ○ 매운맛      │ 라디오 버튼
│ ○ 아주매운맛                    │
│                                 │
│ 사이즈 (필수)                    │
│ ● 1인분  ○ 2인분 (+₩3,000)     │
│                                 │
│ 추가 토핑 (선택)                 │
│ ☐ 새우 추가 (+₩2,000)          │ 체크박스
│ ☐ 소고기 추가 (+₩3,000)        │
│ ☐ 야채 추가 (+₩1,000)          │
│                                 │
│ ──────────────────────────────  │
│                                 │
│ 수량                            │
│ [-]  1  [+]                     │ 수량 조절
│                                 │
│ ──────────────────────────────  │
│                                 │
│ 💬 리뷰 128개 보기 >             │ 리뷰 섹션 링크
│                                 │
│ ┌─────────────────────────────┐ │
│ │ ⭐⭐⭐⭐⭐               │ │
│ │ "정말 맛있어요!"     김*수   │ │ 최신 리뷰 미리보기
│ └─────────────────────────────┘ │
│                                 │
├─────────────────────────────────┤
│ [장바구니 담기]  [₩12,000 주문] │ 하단 고정 버튼
└─────────────────────────────────┘
```

**인터랙션**: 찜하기 버튼 💚 터치

**UI 반응**:
- 하트 아이콘 애니메이션 (펄럭이는 효과)
- 빈 하트 → 채워진 하트로 변경
- 색상: 회색 → 빨간색
- 찜 카운트 증가: `215명 → 216명`
- 미세한 진동 피드백 (haptic)
- 토스트: `💚 찜 목록에 추가되었습니다`

**Firestore 업데이트**:
```javascript
users/{userId}/favorites/{menuId}: {
  menuId: "menu123",
  addedAt: Timestamp
}
menus/{menuId}: {
  favoritesCount: increment(1)
}
```

**인터랙션**: 토핑 "새우 추가" 체크

**UI 반응**:
- 체크박스 체크 애니메이션
- 가격 업데이트:
  - 하단 버튼: `₩12,000` → `₩14,000` (빨간색으로 강조)
  - 가격 변경 시 살짝 확대 → 축소 애니메이션 (0.3초)

**인터랙션**: 수량 [+] 버튼 터치

**UI 반응**:
- 수량: `1` → `2`
- 가격: `₩14,000` → `₩28,000`
- 버튼 터치 시 살짝 확대 효과 (scale: 1.1 → 1.0)

계속해서 나머지 상세 시나리오를 작성하겠습니다...
