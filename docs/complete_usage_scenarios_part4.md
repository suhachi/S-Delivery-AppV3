# My-Pho-App 완전 사용 시나리오 - Part 4: 관리자 고급 기능

## 🖥️ 관리자 대시보드 시나리오 (계속)

---

### 시나리오 6: 메뉴 관리 (Menus)

#### 6-1. 메뉴 목록 페이지

**사용자 액션**: 좌측 메뉴 [🍽️ 메뉴 관리] 클릭

**Menus 화면**:
```
┌──────────────────────────────────────────────────────────┐
│ 메뉴 관리                    [+ 새 메뉴 추가] [⚙️ 카테고리]│
├──────────────────────────────────────────────────────────┤
│ 🔍 메뉴 검색...                           [전체▼] [정렬▼] │
├──────────────────────────────────────────────────────────┤
│ [전체 15] [마라탕 8] [사이드 4] [음료 3]                  │ 카테고리 탭
├──────────────────────────────────────────────────────────┤
│                                                          │
│ ┌───────┬──────────────────────────────────────────────┐│
│ │ 순서  │ 메뉴명        가격    상태    조회    편집   ││
│ ├───────┼──────────────────────────────────────────────┤│
│ │ [↕]  │ ┌─┐                                          ││
│ │ 1     │ │사│ 소고기 마라탕    ₩12,000  ✅ 판매중      ││
│ │       │ │진│              🌶🌶🌶                    ││
│ │       │ └─┘  ⭐ 4.8 (128)  👁 1,234                 ││
│ │       │      [수정] [숨김] [삭제]                    ││
│ │       │                                              ││
│ ├───────┼──────────────────────────────────────────────┤│
│ │ [↕]  │ ┌─┐                                          ││
│ │ 2     │ │사│ 해물 마라탕      ₩11,000  ⚠️ 품절       ││
│ │       │ │진│              🌶🌶                      ││
│ │       │ └─┘  ⭐ 4.7 (95)   👁 987                  ││
│ │       │      [수정] [재고 있음] [삭제]               ││
│ │       │                                              ││
│ ├───────┼──────────────────────────────────────────────┤│
│ │ [↕]  │ ┌─┐                                          ││
│ │ 3     │ │사│ 꿔바로우         ₩8,000   ❌ 숨김       ││
│ │       │ │진│                                         ││
│ │       │ └─┘  ⭐ 4.5 (42)   👁 345                  ││
│ │       │      [수정] [표시] [삭제]                    ││
│ │       │                                              ││
│ └───────┴──────────────────────────────────────────────┘│
│                                                          │
│ [더 보기...]                                             │
└──────────────────────────────────────────────────────────┘
```

**드래그 앤 드롭 기능**:
- [↕] 아이콘을 드래그하여 순서 변경
- 드래그 중: 행 배경 반투명, 그림자 효과
- 드롭 시: 
  - 부드러운 재배치 애니메이션
  - Firestore 업데이트: `displayOrder` 필드 변경
  - 성공 토스트: `✅ 순서가 변경되었습니다`

---

#### 6-2. 새 메뉴 추가

**사용자 액션**: [+ 새 메뉴 추가] 버튼 클릭

**메뉴 추가 모달** (큰 모달 또는 새 페이지):
```
┌──────────────────────────────────────────────────────────┐
│ ← 뒤로               새 메뉴 추가                [미리보기] │
├──────────────────────────────────────────────────────────┤
│                                                          │
│ 📸 메뉴 사진 * (최대 5장)                                │
│ ┌────┐ ┌────┐ ┌────┐ ┌────┐ ┌────┐                   │
│ │ + │ │    │ │    │ │    │ │    │                   │
│ └────┘ └────┘ └────┘ └────┘ └────┘                   │
│ 대표 사진은 드래그로 순서 변경                            │
│                                                          │
│ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│                                                          │
│ 기본 정보                                                │
│                                                          │
│ 메뉴명 *                                                 │
│ ┌────────────────────────────────────────────────────┐  │
│ │ 예: 소고기 마라탕                                   │  │
│ └────────────────────────────────────────────────────┘  │
│                                                          │
│ 카테고리 *                                               │
│ ┌────────────────────────────────────────────────────┐  │
│ │ 마라탕 ▼                                           │  │ 드롭다운
│ └────────────────────────────────────────────────────┘  │
│                                                          │
│ 가격 *                                                   │
│ ┌────────────────────────────────────────────────────┐  │
│ │ ₩                                                  │  │
│ └────────────────────────────────────────────────────┘  │
│                                                          │
│ 할인가 (선택)          할인율 적용                        │
│ ┌──────────────┐     ┌─────┐                          │
│ │ ₩            │     │ % ▼│                          │
│ └──────────────┘     └─────┘                          │
│                                                          │
│ 매운맛 단계                                              │
│ ○ 없음  ● 1단계🌶  ○ 2단계🌶🌶  ○ 3단계🌶🌶🌶        │
│                                                          │
│ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│                                                          │
│ 상세 설명 *                                              │
│ ┌────────────────────────────────────────────────────┐  │
│ │ 신선한 소고기와 각종 야채가 얼큰한 마라 소스와        │  │
│ │ 어우러진 인기 메뉴입니다.                            │  │
│ │                                                    │  │ 멀티라인
│ │ • 소고기 200g                                      │  │
│ │ • 야채 믹스 150g                                   │  │
│ │ • 마라 소스                                        │  │
│ └────────────────────────────────────────────────────┘  │
│ 0 / 500                                                  │
│                                                          │
│ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│                                                          │
│ 옵션 설정                                                │
│                                                          │
│ ┌────────────────────────────────────────────────────┐  │
│ │ 옵션 그룹 1: 매운맛 단계          [필수] [삭제]     │  │
│ │ ┌────────────────────────────────────────────────┐ │  │
│ │ │ • 순한맛          기본 가격                     │ │  │
│ │ │ • 보통맛          +₩0                          │ │  │
│ │ │ • 매운맛          +₩0                          │ │  │
│ │ │ • 아주 매운맛      +₩500                       │ │  │
│ │ │ [+ 옵션 추가]                                  │ │  │
│ │ └────────────────────────────────────────────────┘ │  │
│ └────────────────────────────────────────────────────┘  │
│                                                          │
│ ┌────────────────────────────────────────────────────┐  │
│ │ 옵션 그룹 2: 추가 토핑            [선택] [삭제]     │  │
│ │ ┌────────────────────────────────────────────────┐ │  │
│ │ │ • 새우 추가       +₩2,000 ☑ 재고 있음          │ │  │
│ │ │ • 소고기 추가     +₩3,000 ☑ 재고 있음          │ │  │
│ │ │ • 야채 추가       +₩1,000 ☑ 재고 있음          │ │  │
│ │ │ [+ 옵션 추가]                                  │ │  │
│ │ └────────────────────────────────────────────────┘ │  │
│ └────────────────────────────────────────────────────┘  │
│                                                          │
│ [+ 옵션 그룹 추가]                                       │
│                                                          │
│ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│                                                          │
│ 판매 설정                                                │
│                                                          │
│ ☑ 즉시 판매 시작                                         │
│ ☐ 일일 판매 수량 제한         ┌─────┐ 개                │
│                              └─────┘                    │
│                                                          │
│ 판매 시간 설정                                           │
│ ☐ 특정 시간대만 판매                                     │
│   시작: ┌──┐:┌──┐ ~ 종료: ┌──┐:┌──┐                  │
│                                                          │
│ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│                                                          │
│ 영양 정보 (선택)                                         │
│ ☐ 영양 정보 제공                                         │
│   칼로리: ┌─────┐ kcal  단백질: ┌─────┐ g             │
│   탄수화물: ┌─────┐ g   지방: ┌─────┐ g              │
│                                                          │
│ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│                                                          │
│ 태그 (선택, 최대 5개)                                     │
│ [#신메뉴] [#베스트] [#매운맛] [#고기] [+ 태그 추가]       │
│                                                          │
│ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│                                                          │
│ [취소]                                [저장 및 게시하기]  │
└──────────────────────────────────────────────────────────┘
```

**상세 인터랙션**:

**사진 업로드**:
- [+] 박스 클릭 → 파일 선택 또는 드래그 드롭
- 업로드 중: 프로그레스 바 표시
- 업로드 완료: 썸네일 표시 + [X] 삭제 버튼
- 드래그로 순서 변경 가능
- 첫 번째 사진이 대표 사진으로 자동 설정

**가격 입력**:
- 숫자만 입력 가능
- 자동 천 단위 콤마: `12000` → `₩12,000`

**할인가 설정**:
- 할인가 입력 시 할인율 자동 계산 및 표시
  ```
  원가: ₩12,000
  할인가: ₩10,000
  → 자동 계산: 17% 할인
  ```
- 할인율 선택 시 할인가 자동 계산

**옵션 추가**:
- [+ 옵션 추가] 클릭 시 새 입력행 추가
  ```
  ┌────────────────────────────────┐
  │ • [옵션명____] +₩[가격___]    │
  │   ☑ 재고 있음  [삭제]         │
  └────────────────────────────────┘
  ```

**실시간 미리보기**:
- [미리보기] 버튼 클릭 시 모달 표시
- 고객 앱에서 보이는 모습 그대로 표시
- 입력 내용 실시간 반영

**저장 처리**:

**사용자 액션**: [저장 및 게시하기] 버튼 클릭

**유효성 검증**:
1. 필수 항목 확인
   - 메뉴명 ✅
   - 카테고리 ✅
   - 가격 ✅
   - 설명 ✅
   - 사진 (최소 1장) ✅

2. 누락 시 에러 표시:
   ```
   ⚠️ 다음 항목을 입력해주세요:
   • 메뉴 사진을 1장 이상 업로드하세요
   ```

**성공 시**:
1. Firestore 저장:
   ```javascript
   menus/{menuId}: {
     name: "소고기 마라탕",
     category: "마라탕",
     price: 12000,
     discountPrice: null,
     spicyLevel: 1,
     description: "신선한 소고기와...",
     images: ["url1", "url2"],
     options: [{
       groupName: "매운맛 단계",
       required: true,
       items: [...]
     }],
     isAvailable: true,
     dailyLimit: null,
     tags: ["신메뉴", "베스트"],
     createdAt: Timestamp,
     displayOrder: 999
   }
   ```

2. 이미지를 Storage에 업로드

3. 성공 피드백:
   - 성공 토스트: `✅ 메뉴가 추가되었습니다`
   - 메뉴 목록으로 돌아감
   - 새 메뉴가 리스트 최상단에 표시 (하이라이트 효과)

---

#### 6-3. 메뉴 품절/재고 관리

**상황**: 해물 마라탕 재고 소진

**빠른 품절 처리 (메뉴 목록에서)**:

**사용자 액션**: "해물 마라탕" 행의 [숨김] 버튼 클릭

**확인 모달**:
```
┌────────────────────────────────────────┐
│ 메뉴 품절 처리                          │
├────────────────────────────────────────┤
│ "해물 마라탕"을 품절 처리하시겠습니까?   │
│                                        │
│ • 고객 앱에서 즉시 숨김 처리됩니다      │
│ • 장바구니에 담긴 상품도 제거됩니다     │
│                                        │
│ 예상 재고 입고 시간 (선택):             │
│ ○ 오늘 저녁                            │
│ ○ 내일                                 │
│ ○ 미정                                 │
│                                        │
│ [취소]              [품절 처리]        │
└────────────────────────────────────────┘
```

**사용자 선택**: "오늘 저녁" 선택 → [품절 처리] 클릭

**시스템 처리**:
1. Firestore 업데이트:
   ```javascript
   menus/{menuId}: {
     isAvailable: false,
     soldOutAt: Timestamp,
     expectedRestockTime: "today_evening"
   }
   ```

2. 고객 앱 실시간 업데이트:
   - 메뉴 리스트에서 "품절" 배지 표시
   - 장바구니의 해당 메뉴 자동 제거 + 알림

3. 관리자 화면:
   - 메뉴 상태: `✅ 판매중` → `⚠️ 품절`
   - 버튼 변경: `[숨김]` → `[재고 있음]`

**재고 입고 처리**:

**사용자 액션**: [재고 있음] 버튼 클릭

**시스템 반응**:
- 즉시 판매 재개
- Firestore: `isAvailable: true`
- 상태: `⚠️ 품절` → `✅ 판매중`
- 성공 토스트: `✅ 해물 마라탕 판매가 재개되었습니다`

---

### 시나리오 7: 리뷰 관리 (Reviews)

#### 7-1. 리뷰 목록 페이지

**사용자 액션**: 좌측 메뉴 [⭐ 리뷰 관리] 클릭

**Reviews 화면**:
```
┌──────────────────────────────────────────────────────────┐
│ 리뷰 관리                                                 │
├──────────────────────────────────────────────────────────┤
│ ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐               │
│ │전체 │ │  5  │ │  4  │ │  3  │ │ 1-2 │  평점 필터     │
│ │ 128 │ │ ⭐ │ │ ⭐ │ │ ⭐ │ │ ⭐ │               │
│ └─────┘ └─────┘ └─────┘ └─────┘ └─────┘               │
├──────────────────────────────────────────────────────────┤
│ [최신순▼] [평점순▼] [▨ 사진있음]                         │
├──────────────────────────────────────────────────────────┤
│                                                          │
│ ┌────────────────────────────────────────────────────┐  │
│ │ ⭐⭐⭐⭐⭐ 5.0              2025.12.06 14:30       │  │
│ │                                                    │  │
│ │ 👤 김철수 (신규 고객)          주문: #20251206001  │  │
│ │ 📦 소고기 마라탕                                   │  │
│ │                                                    │  │
│ │ 💬 맛있게 잘 먹었습니다!                           │  │
│ │    양도 푸짐하고 빠르게 배달되어서 좋았어요.       │  │
│ │                                                    │  │
│ │ 📷 [사진2]                                         │  │
│ │ ┌────┐ ┌────┐                                     │  │
│ │ │사진│ │사진│ (클릭하여 확대)                      │  │
│ │ └────┘ └────┘                                     │  │
│ │                                                    │  │
│ │ 👍 도움돼요 3 | 신고 0                             │  │
│ │                                                    │  │
│ │ [답글 작성] [숨김] [신고 처리]                     │  │
│ │                                                    │  │
│ │ ✏️ 사장님 답글:                                    │  │
│ │    감사합니다! 항상 신선한 재료로...               │  │
│ │    2025.12.06 15:00                               │  │
│ │    [수정] [삭제]                                  │  │
│ └────────────────────────────────────────────────────┘  │
│                                                          │
│ ┌────────────────────────────────────────────────────┐  │
│ │ ⭐⭐ 2.0                    2025.12.05 19:20       │  │
│ │                                                    │  │
│ │ 👤 박민수                          주문: #20251205012│  │
│ │ 📦 해물 마라탕                                     │  │
│ │                                                    │  │
│ │ 💬 배달이 너무 늦었어요. 음식도 식어서 왔습니다.   │  │
│ │                                                    │  │
│ │ ⚠️ [답글 미작성]                                   │  │ 강조
│ │                                                    │  │
│ │ [답글 작성] [숨김] [고객에게 연락]                 │  │
│ └────────────────────────────────────────────────────┘  │
│                                                          │
└──────────────────────────────────────────────────────────┘
```

---

#### 7-2. 리뷰 답글 작성

**사용자 액션**: 두 번째 리뷰의 [답글 작성] 버튼 클릭

**답글 작성 모달**:
```
┌────────────────────────────────────────┐
│ 리뷰 답글 작성                          │
├────────────────────────────────────────┤
│ ⭐⭐ 2.0 - 박민수님의 리뷰              │
│                                        │
│ "배달이 너무 늦었어요..."               │
│                                        │
│ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│                                        │
│ 답글 내용:                             │
│ ┌──────────────────────────────────┐  │
│ │                                  │  │
│ │ 불편을 드려 죄송합니다.          │  │
│ │ 당시 주문이 많아 배달이            │  │
│ │ 지연되었습니다.                   │  │
│ │                                  │  │
│ │ 다음 주문 시 쿠폰을 보내          │  │
│ │ 드리겠습니다.                     │  │
│ │                                  │  │
│ └──────────────────────────────────┘  │
│ 123 / 500                              │
│                                        │
│ ☑ 답글 작성 후 쿠폰 자동 발송           │
│   (3,000원 할인 쿠폰)                  │
│                                        │
│ [취소]              [등록]             │
└────────────────────────────────────────┘
```

**사용자 액션**: [등록] 버튼 클릭

**시스템 처리**:
1. Firestore 저장:
   ```javascript
   reviews/{reviewId}: {
     ...existing,
     reply: {
       text: "불편을 드려 죄송합니다...",
       author: adminName,
       createdAt: Timestamp
     }
   }
   ```

2. 쿠폰 자동 발송 (체크한 경우):
   ```javascript
   users/{userId}/coupons/{couponId}: {
     type: "apology",
     discount: 3000,
     minOrderAmount: 0,
     expiresAt: Timestamp(7일 후),
     reason: "리뷰 답글 보상"
   }
   ```

3. 고객 알림:
   ```
   💬 리뷰에 사장님 답글이 달렸습니다
   "불편을 드려 죄송합니다..."
   
   🎁 보상 쿠폰 3,000원이 지급되었습니다!
   ```

4. UI 업데이트:
   - 답글 섹션에 내용 표시
   - `⚠️ [답글 미작성]` → `✅ 답글 작성 완료`
   - 성공 토스트

---

### 시나리오 8: 프로모션 관리 (Promotions)

#### 8-1. 쿠폰 생성

**사용자 액션**: 좌측 메뉴 [🎁 프로모션] 클릭

**Promotions 화면**:
```
┌──────────────────────────────────────────────────────────┐
│ 프로모션 관리                                             │
├──────────────────────────────────────────────────────────┤
│ [쿠폰] [이벤트] [공지사항]                                │ 탭
├──────────────────────────────────────────────────────────┤
│                                                          │
│ [+ 새 쿠폰 만들기]                                        │
│                                                          │
│ 진행중인 쿠폰 (3개)                                       │
│                                                          │
│ ┌────────────────────────────────────────────────────┐  │
│ │ 🎫 첫 주문 3,000원 할인                            │  │
│ │                                          [활성화✅]  │  │
│ │ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━    │  │
│ │ 할인: ₩3,000                   코드: FIRST3000    │  │
│ │ 최소 주문: ₩15,000              유효기간: 무제한    │  │
│ │                                                    │  │
│ │ 사용 현황:                                         │  │
│ │ • 발급: 245명                                      │  │
│ │ • 사용: 78명 (32%)                                │  │
│ │ • 할인 총액: ₩234,000                             │  │
│ │                                                    │  │
│ │ 대상: 신규 고객 (가입 후 7일 이내)                  │  │
│ │                                                    │  │
│ │ [수정] [비활성화] [통계 보기]                       │  │
│ └────────────────────────────────────────────────────┘  │
│                                                          │
│ [더 보기...]                                             │
└──────────────────────────────────────────────────────────┘
```

**사용자 액션**: [+ 새 쿠폰 만들기] 버튼 클릭

**쿠폰 생성 모달**:
```
┌──────────────────────────────────────────────────────────┐
│ 새 쿠폰 만들기                                [1/3 단계]   │
├──────────────────────────────────────────────────────────┤
│                                                          │
│ 쿠폰 유형 선택                                            │
│                                                          │
│ ┌────────────────┐ ┌────────────────┐ ┌────────────────┐│
│ │     💰         │ │     📊         │ │     🎯         ││
│ │                │ │                │ │                ││
│ │  정액 할인     │ │  정률 할인     │ │  무료 배달     ││
│ │                │ │                │ │                ││
│ │ 3,000원 할인   │ │   10% 할인     │ │ 배달비 무료     ││
│ │                │ │                │ │                ││
│ │    [선택]      │ │    [선택]      │ │    [선택]      ││
│ └────────────────┘ └────────────────┘ └────────────────┘│
│                                                          │
│ [취소]                                         [다음 >]   │
└──────────────────────────────────────────────────────────┘
```

**사용자 선택**: "정액 할인" 선택 → [다음] 클릭

**2단계: 쿠폰 상세 설정**:
```
┌──────────────────────────────────────────────────────────┐
│ 새 쿠폰 만들기                                [2/3 단계]   │
├──────────────────────────────────────────────────────────┤
│                                                          │
│ 쿠폰 이름 *                                              │
│ ┌────────────────────────────────────────────────────┐  │
│ │ 연말 감사 5,000원 할인                              │  │
│ └────────────────────────────────────────────────────┘  │
│                                                          │
│ 할인 금액 *                                              │
│ ┌────────────────────────────────────────────────────┐  │
│ │ ₩ 5,000                                            │  │
│ └────────────────────────────────────────────────────┘  │
│                                                          │
│ 최소 주문 금액 *                                         │
│ ┌────────────────────────────────────────────────────┐  │
│ │ ₩ 20,000                                           │  │
│ └────────────────────────────────────────────────────┘  │
│                                                          │
│ 쿠폰 코드 (선택, 자동생성 가능)                           │
│ ┌────────────────────────────────┐ [자동 생성]         │
│ │ YEAR2025                       │                     │
│ └────────────────────────────────┘                     │
│                                                          │
│ 유효 기간 *                                              │
│ ┌──────────────┐ ~ ┌──────────────┐                   │
│ │ 2025-12-15   │   │ 2025-12-31   │                   │
│ └──────────────┘   └──────────────┘                   │
│ ○ 기간 제한 없음                                         │
│                                                          │
│ 발급 수량                                                │
│ ● 무제한                                                │
│ ○ 수량 제한: ┌────┐ 개                                 │
│                                                          │
│ 1인당 사용 제한                                          │
│ ● 1회                                                   │
│ ○ 무제한                                                │
│                                                          │
│ [< 이전]                              [다음 >]          │
└──────────────────────────────────────────────────────────┘
```

**3단계: 대상 고객 설정**:
```
┌──────────────────────────────────────────────────────────┐
│ 새 쿠폰 만들기                                [3/3 단계]   │
├──────────────────────────────────────────────────────────┤
│                                                          │
│ 쿠폰 발급 대상                                            │
│                                                          │
│ ● 전체 고객                                              │
│   (기존 고객 234명 + 신규 고객)                          │
│                                                          │
│ ○ 신규 고객만                                            │
│   (가입 후 7일 이내)                                     │
│                                                          │
│ ○ VIP 고객                                              │
│   (총 주문 금액 ₩100,000 이상)                          │
│                                                          │
│ ○ 특정 고객 직접 선택                                    │
│   [고객 선택하기]                                        │
│                                                          │
│ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│                                                          │
│ 자동 발급 설정                                            │
│                                                          │
│ ☑ 즉시 발급 (생성 즉시 대상 고객에게 자동 발급)           │
│ ☑ 푸시 알림 발송                                         │
│ ☑ 앱 내 알림 발송                                        │
│ ☐ SMS 발송 (유료)                                       │
│                                                          │
│ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│                                                          │
│ 최종 확인                                                │
│                                                          │
│ [미리보기]                                               │
│ ┌────────────────────────────────────────────────────┐  │
│ │ 🎫 연말 감사 5,000원 할인                          │  │
│ │                                                    │  │
│ │ ₩5,000 할인                                       │  │
│ │ 최소 주문: ₩20,000                                │  │
│ │ ~ 2025.12.31                                      │  │
│ └────────────────────────────────────────────────────┘  │
│                                                          │
│ 예상 발급: 234명                                         │
│ 예상 비용: 최대 ₩1,170,000 (100% 사용 시)               │
│                                                          │
│ [< 이전]                              [쿠폰 생성하기]     │
└──────────────────────────────────────────────────────────┘
```

**사용자 액션**: [쿠폰 생성하기] 버튼 클릭

**시스템 처리**:
1. Firestore 저장:
   ```javascript
   promotions/coupons/{couponId}: {
     name: "연말 감사 5,000원 할인",
     type: "fixed",
     discount: 5000,
     minOrderAmount: 20000,
     code: "YEAR2025",
     validFrom: Timestamp,
     validUntil: Timestamp,
     targetCustomers: "all",
     issuedCount: 234,
     usedCount: 0,
     isActive: true,
     createdAt: Timestamp
   }
   ```

2. 고객에게 쿠폰 자동 발급:
   ```javascript
   users/{userId}/coupons/{userCouponId}: {
     couponId: couponId,
     issuedAt: Timestamp,
     usedAt: null
   }
   ```

3. 알림 발송 (234명):
   - 푸시: `🎁 연말 감사 쿠폰 5,000원이 도착했어요!`
   - 앱 내 알림 생성

4. 성공 피드백:
   ```
   ┌────────────────────────────────────────┐
   │ ✅ 쿠폰이 생성되었습니다!               │
   │                                        │
   │ 234명에게 발급 완료                    │
   │ 푸시 알림 발송 완료                    │
   │                                        │
   │ [통계 보기]       [확인]               │
   └────────────────────────────────────────┘
   ```

---

계속해서 분석, 설정 등 나머지 시나리오를 완성하겠습니다...
